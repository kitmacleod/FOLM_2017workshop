<!DOCTYPE html>
<html>
<head>
  <title>Layouts &raquo; Hero Sidebar</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
<!-- KM I could use this relative  <link rel="stylesheet" type="text/css" href="../bootstrap-3.3.7/dist/css/bootstrap.min.css" /> -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
   integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
    crossorigin="anonymous">

  <link rel="stylesheet" type="text/css" href="keen-dashboard.css" />

<!--KM added code from my working Leaflet.draw example -->

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.9/leaflet.draw.css"/>


</head>
<body class="application">

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <!--<a class="navbar-brand" href="../">
          <span class="glyphicon glyphicon-chevron-left"></span>
        </a>
        <a class="navbar-brand" href="./">Layouts &raquo; Hero Sidebar</a>-->
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-left">
          <li><a href="http://www.hutton.ac.uk/">James Hutton Institute</a></li>
          <li><a href="http://www.hutton.ac.uk/">Project</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-3">
        <div class="chart-wrapper">
          <div class="chart-title">
            Cell Title
          </div>
          <div class="chart-stage">
            <img data-src="holder.js/100px650/white">
          </div>
          <div class="chart-notes">
            Notes about this chart
          </div>
        </div>
      </div>
      <div class="col-sm-9">
        <div class="row">
          <div class="col-sm-12">
            <div class="chart-wrapper">
              <div class="chart-title">
                Map
              </div>
              <div class="chart-stage">
                <!--KM I am pretty sure this is where to place code based on FF-->
                <!--<img data-src="holder.js/100px360/white">-->
<!--KM width and heigh should not be in px, but % does not work for me-->

                <div id="map" style="width: 900px; height: 400px"></div>

                    <script
                        src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js">
                    </script>
                    <script
                        src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.9/leaflet.draw.js">
                    </script>

                    <script>
                        var map = L.map('map').setView([-41.2858, 174.78682], 14);
                        mapLink =
                            '<a href="http://openstreetmap.org">OpenStreetMap</a>';
                        L.tileLayer(
                            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: 'Map data &copy; ' + mapLink,
                            maxZoom: 18,
                            }).addTo(map);

                		var LeafIcon = L.Icon.extend({
                			options: {
                				shadowUrl:
                				    'http://leafletjs.com/docs/images/leaf-shadow.png',
                				iconSize:     [38, 95],
                				shadowSize:   [50, 64],
                				iconAnchor:   [22, 94],
                				shadowAnchor: [4, 62],
                				popupAnchor:  [-3, -76]
                			}
                		});

                		var greenIcon = new LeafIcon({
                			iconUrl: 'http://leafletjs.com/docs/images/leaf-green.png'
                			});

                		var drawnItems = new L.FeatureGroup();
                		map.addLayer(drawnItems);

                		var drawControl = new L.Control.Draw({
                			position: 'topright',
                			draw: {
                				polygon: {
                					shapeOptions: {
                						color: 'purple'
                					},
                					allowIntersection: false,
                					drawError: {
                						color: 'orange',
                						timeout: 1000
                					},
                					showArea: true,
                					metric: false,
                					repeatMode: true
                				},
                				polyline: {
                					shapeOptions: {
                						color: 'red'
                					},
                				},
                				rect: {
                					shapeOptions: {
                						color: 'green'
                					},
                				},
                				circle: {
                					shapeOptions: {
                						color: 'steelblue'
                					},
                				},
                				marker: {
                					icon: greenIcon
                				},
                			},
                			edit: {
                				featureGroup: drawnItems
                			}
                		});
                		map.addControl(drawControl);

                		map.on('draw:created', function (e) {
                			var type = e.layerType,
                				layer = e.layer;

                			if (type === 'marker') {
                				layer.bindPopup('A popup!');
                			}

                			drawnItems.addLayer(layer);
                		});
                    </script>

              </div>
              <div class="chart-notes">
                Notes about this chart
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-4">
            <div class="chart-wrapper">
              <div class="chart-title">
                Cell Title
              </div>
              <div class="chart-stage">
                <img data-src="holder.js/100px120/white">
              </div>
              <div class="chart-notes">
                Notes about this chart
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="chart-wrapper">
              <div class="chart-title">
                Cell Title
              </div>
              <div class="chart-stage">
                <img data-src="holder.js/100px120/white">
              </div>
              <div class="chart-notes">
                Notes about this chart
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="chart-wrapper">
              <div class="chart-title">
                Cell Title
              </div>
              <div class="chart-stage">
                <img data-src="holder.js/100px120/white">
              </div>
              <div class="chart-notes">
                Notes about this chart
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  </div>

  <!--<script type="text/javascript" src="../../assets/lib/jquery/dist/jquery.min.js"></script> add CDN-->
  <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

<!-- KM Original <script type="text/javascript" src="../../assets/lib/bootstrap/dist/js/bootstrap.min.js"></script> -->
  <!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
  integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
  crossorigin="anonymous"></script>

  <!--<script type="text/javascript" src="../../assets/lib/holderjs/holder.js"></script> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.9.4/holder.js"

 integrity="sha256-crfkMD0BL2TtiwpbIlXF/SVmGSvOtgbMM8GBkibVKyc="
  crossorigin="anonymous"></script>

  <script>
    Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
  </script>

  <!-- KM original <script type="text/javascript" src="../../assets/lib/keen-js/dist/keen.min.js"></script> -->
  <script src="https://d26b395fwzu5fz.cloudfront.net/3.4.1/keen.min.js" type="text/javascript"></script>

<!--  <script type="text/javascript" src="../../assets/js/meta.js"></script> -->

</body>
</html>
